<ion-header>
  <ion-toolbar>
    <ion-back-button></ion-back-button>
    <ion-title>Name: {{ group.key }} Details</ion-title>
    Description:{{ group.value }}
  </ion-toolbar>
</ion-header>

<ion-content>

<app-sign-out></app-sign-out>
<ion-button id="createTaskBtn" name="createTaskBtn" (click)="createTask()" color="primary" expand="block">Create Task</ion-button>
<app-leave-group-btn></app-leave-group-btn>

<ion-text>Tasks</ion-text>
<ion-item *ngFor="let dataItem of data | keyvalue">{{ dataItem.value.taskName }} : {{ dataItem.value.taskDescription }} : {{ dataItem.value.taskType }} : {{ dataItem.value.dateTimeOfEvent }}
  <ion-item *ngIf="group.administration != null">
  <ion-button (click)="deleteDeactivateTask(dataItem.value.taskName)">Delete</ion-button>
</ion-item>
</ion-item>

<ion-text *ngIf="group.requestsToLeave != null">
  <ion-text>Request to leave group, {{ group.key }}</ion-text>

  <ion-item *ngFor="let groupRequest of requestToLeaveData">
  <ion-text>{{ groupRequest }}
    <ion-button (click)="requestsToLeaveVerdict('grant', groupRequest)">Grant Request</ion-button>
    <ion-button (click)="requestsToLeaveVerdict('deny', groupRequest)">Deny Request</ion-button>
  </ion-text>
</ion-item>
</ion-text>

<form id="addMember" name="addMember" [formGroup]="formData" (ngSubmit)="addMember()">
<ion-item>
  <ion-text>Add group member</ion-text>
  <ion-searchbar autocomplete="on" formControlName="chosenUser" (ionChange)="getStaff($event)"></ion-searchbar>
  <!-- <ion-list>
    <ion-item *ngFor="let searchItem of search | keyvalue"> Username: {{ searchItem.value.username }}, Email: {{ searchItem.value.email }}</ion-item>
  </ion-list> -->
</ion-item>
<ion-button id="addMemberBtn" name="addMemberBtn" type="submit">Add member</ion-button>
</form>

</ion-content>
