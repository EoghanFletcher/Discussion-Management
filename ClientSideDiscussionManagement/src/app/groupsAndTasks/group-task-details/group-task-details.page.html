<ion-header>
  <ion-toolbar>
    <ion-back-button></ion-back-button>
    <ion-title>Name: {{ group.key }} Details</ion-title>
    Description:{{ group.value }}
  </ion-toolbar>
</ion-header>

<ion-content>

<app-sign-out></app-sign-out>
<ion-button id="createTaskBtn" name="createTaskBtn" (click)="createTask()" color="primary" expand="block">Create Task</ion-button>
<app-leave-group-btn></app-leave-group-btn>

<h1>Tasks</h1>
<ion-list *ngFor="let dataItem of data | keyvalue">
  <ion-item-divider>Task name : {{ dataItem.value.taskName }}</ion-item-divider>
  <ion-item-divider>Task description : {{ dataItem.value.taskDescription }}</ion-item-divider>
  <ion-item-divider>Task type : {{ dataItem.value.taskType }}</ion-item-divider>
  <ion-item-divider>Date and time of event: {{ dataItem.value.dateTimeOfEvent }}</ion-item-divider>

  <ion-item-divider class="ion-padding" *ngIf="group.administration != null">
  <ion-button color="danger" (click)="deleteDeactivateTask(dataItem.value.taskName)">Delete</ion-button>
</ion-item-divider>
</ion-list>

<ion-text *ngIf="group.requestsToLeave != null">
  <ion-text>Request to leave group, {{ group.key }}</ion-text>

  <ion-item *ngFor="let groupRequest of requestToLeaveData">
  <ion-text>{{ groupRequest }}
    <ion-button color="danger" (click)="requestsToLeaveVerdict('grant', groupRequest)">Grant Request</ion-button>
    <ion-button color="danger" (click)="requestsToLeaveVerdict('deny', groupRequest)">Deny Request</ion-button>
  </ion-text>
</ion-item>
</ion-text>

<form id="addMember" name="addMember" [formGroup]="formData" (ngSubmit)="addMember()">
<ion-item>
  <h1>Add group member</h1>
  <ion-searchbar autocomplete="on" formControlName="chosenUser" (ionChange)="getStaff($event)"></ion-searchbar>
  <!-- <ion-list>
    <ion-item *ngFor="let searchItem of search | keyvalue"> Username: {{ searchItem.value.username }}, Email: {{ searchItem.value.email }}</ion-item>
  </ion-list> -->
</ion-item>
<ion-button id="addMemberBtn" name="addMemberBtn" type="submit" class="ion-padding">Add member</ion-button>
</form>

</ion-content>
